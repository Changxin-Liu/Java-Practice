package pacman.game;

import pacman.board.PacmanBoard;
import pacman.ghost.*;
import pacman.hunter.Hunter;
import pacman.score.ScoreBoard;

import java.util.ArrayList;
import java.util.List;

public class PacmanGame {

    private String title;
    private String author;
    private Hunter hunter;
    private PacmanBoard board;

    private int tick;
    private int level;
    private int lives;
    private ScoreBoard scoreBoard;

    private Blinky blinky;
    private Clyde clyde;
    private Inky inky;
    private Pinky pinky;

    public PacmanGame(String title,
                      String author,
                      Hunter hunter,
                      PacmanBoard board){
        this.title = title;
        this.author = author;
        this.hunter = hunter;
        this.board = board;

        hunter.setPosition(board.getPacmanSpawn());
        blinky = new Blinky();
        clyde = new Clyde();
        inky = new Inky();
        pinky = new Pinky();
        blinky.setPosition(board.getGhostSpawn());
        clyde.setPosition(board.getGhostSpawn());
        inky.setPosition(board.getGhostSpawn());
        pinky.setPosition(board.getGhostSpawn());

        this.tick = 0;
        this.level = 0;
        this.lives = 4;
        scoreBoard = new ScoreBoard();
    }

    public String getTitle(){
        return this.title;
    }

    public String getAuthor(){
        return this.author;
    }

    public PacmanBoard getBoard(){
        return this.board;
    }

    public int getTick(){
        return this.tick;
    }

    public ScoreBoard getScores(){
        return this.scoreBoard;
    }

    public int getLevel(){
        return this.level;
    }

    public void setLevel(int level){
        this.level = level;
    }

    public int getLives(){
        return this.lives;
    }

    public void setLives(int lives){
        this.lives = lives;
    }

    public Hunter getHunter(){
        return this.hunter;
    }

    public List<Ghost> getGhosts(){
        Blinky tempBlinky = new Blinky();
        Clyde tempClyde = new Clyde();
        Inky tempInky = new Inky();
        Pinky tempPinky = new Pinky();
        List<Ghost> ghostList = new ArrayList<>();
        ghostList.add(tempBlinky);
        ghostList.add(tempClyde);
        ghostList.add(tempInky);
        ghostList.add(tempPinky);
        return ghostList;
    }

    public void tick(){

    }

    public void reset(){
        this.lives = 4;
        this.level = 0;
        scoreBoard.reset();
        board.reset();

        this.hunter.reset();
        hunter.setPosition(board.getPacmanSpawn());
        blinky.reset();
        clyde.reset();
        inky.reset();
        pinky.reset();
        blinky.setPosition(board.getGhostSpawn());
        clyde.setPosition(board.getGhostSpawn());
        inky.setPosition(board.getGhostSpawn());
        pinky.setPosition(board.getGhostSpawn());

        this.tick = 0;
    }

    public void setGhostsFrightened(){
        this.blinky.setPhase(Phase.FRIGHTENED,Phase.FRIGHTENED.getDuration());
        this.clyde.setPhase(Phase.FRIGHTENED,Phase.FRIGHTENED.getDuration());
        this.inky.setPhase(Phase.FRIGHTENED,Phase.FRIGHTENED.getDuration());
        this.pinky.setPhase(Phase.FRIGHTENED,Phase.FRIGHTENED.getDuration());
    }

}
